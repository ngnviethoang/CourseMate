<div class="page-title-area">
    <div class="container">
        <div class="page-title-content">
            <ul>
                <li><a routerLink="/">Home</a></li>
                <li>Checkout</li>
            </ul>
            <h2>Checkout</h2>
        </div>
    </div>
    <div class="shape9"><img alt="image" src="assets/img/shape8.svg" /></div>
</div>

<div class="pt-3 pb-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-12">
                <div>
                    <div class="row">
                        <!-- Payment Method Section -->
                        <h2 class="tw-text-lg tw-font-semibold tw-text-gray-800 tw-mb-4">PhÆ°Æ¡ng thá»©c thanh toÃ¡n</h2>

                        <p-selectbutton [options]="paymentOptions" [(ngModel)]="selectedPaymentMethod"
                                        optionLabel="label"
                                        optionValue="value"
                                        class="tw-mb-4"
                        >
                            <ng-template #item let-item>
                                <div class="tw-flex tw-items-center tw-gap-2">
                                    <i [class]="item.icon"></i>
                                    <span>{{ item.label }}</span>
                                </div>
                            </ng-template>
                        </p-selectbutton>

                        <!-- Card Info Form -->
                        @if (selectedPaymentMethod === PaymentMethod.Card) {
                            <div class="tw-mt-6 tw-p-4 tw-border tw-rounded-md tw-bg-white">
                                <h3 class="tw-font-semibold tw-text-gray-700 tw-mb-3">Nháº­p thÃ´ng tin tháº»</h3>
                                <div class="tw-flex tw-flex-col tw-gap-3">
                                    <input type="text" placeholder="Sá»‘ tháº»" class="tw-border tw-rounded-md tw-p-2" />
                                    <input type="text" placeholder="TÃªn chá»§ tháº»"
                                           class="tw-border tw-rounded-md tw-p-2" />
                                    <div class="tw-flex tw-gap-3">
                                        <input type="text" placeholder="MM/YY"
                                               class="tw-border tw-rounded-md tw-p-2 tw-w-1/2" />
                                        <input type="text" placeholder="CVV"
                                               class="tw-border tw-rounded-md tw-p-2 tw-w-1/2" />
                                    </div>

                                    <!-- ðŸ”˜ NÃºt Thanh ToÃ¡n -->
                                    <button
                                        (click)="submitCardPayment()"
                                        class="tw-mt-4 tw-w-full tw-bg-[#fe4a55] tw-text-white tw-font-semibold tw-py-3 tw-rounded-md tw-transition hover:tw-opacity-90"
                                    >
                                        Thanh toÃ¡n
                                    </button>
                                </div>
                            </div>
                        }


                        <!-- Order Summary -->
                        <div class="tw-mt-8 tw-p-4 tw-border tw-rounded-md tw-bg-gray-50">
                            <h3 class="tw-font-semibold tw-text-gray-800 tw-mb-2">TÃ³m táº¯t Ä‘Æ¡n hÃ ng</h3>
                            <div class="tw-flex tw-justify-between tw-font-bold tw-text-base">
                                <span>Tá»•ng Ä‘Æ¡n giÃ¡:</span>
                                <span>{{ totalValue | currency:'VND' }}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-12">
                <div>
                    <h3 class="tw-text-xl tw-font-bold tw-mb-6">ThÃ´ng tin Ä‘Æ¡n hÃ ng</h3>

                    @for (item of order.items; track item.id) {
                        <div class="tw-space-y-4">
                            <div
                                class="tw-flex tw-items-start tw-gap-4 tw-bg-white tw-shadow-sm tw-p-4 tw-rounded-lg">
                                <img [src]="item.course.thumbnailFile"
                                     [alt]="item.course.title"
                                     class="tw-w-24 tw-h-24 tw-object-cover tw-rounded-lg" />

                                <div class="tw-flex-1 tw-space-y-1">
                                    <div class="tw-font-semibold tw-text-base md:tw-text-lg">
                                        {{ item.course.title }}
                                    </div>
                                    <div class="tw-text-red-600 tw-font-bold tw-text-lg">
                                        {{ item.course.price | number }}â‚«
                                        <span class="tw-text-gray-400 tw-line-through tw-text-sm tw-ml-2">
          {{ item.course.price | number }}â‚«
        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>
